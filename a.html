<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uncertainty Research in China - LogToku Example</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .topic-checkbox:checked+label {
            background-color: #3b82f6;
            color: white;
        }

        .paper-card {
            transition: all 0.3s ease;
        }

        .paper-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .language-tab.active {
            border-bottom: 2px solid #3b82f6;
            color: #3b82f6;
        }

        .markdown-body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
            line-height: 1.5;
        }

        .markdown-body h1,
        .markdown-body h2 {
            border-bottom: 1px solid #eaecef;
            padding-bottom: 0.3em;
        }

        .markdown-body pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            padding: 16px;
        }
    </style>
</head>

<body class="bg-gray-50 min-h-screen">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="flex items-center justify-between mb-8">
            <div class="flex items-center">
                <i class="fab fa-github text-3xl mr-4 text-gray-800"></i>
                <h1 class="text-2xl font-bold text-gray-800">Uncertainty Research - Paper Showcase</h1>
            </div>
            <div class="flex space-x-4">
                <button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition">
                    <i class="fas fa-star mr-2"></i>Star
                </button>
                <button class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition">
                    <i class="fas fa-code-branch mr-2"></i>Fork
                </button>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
            <div class="lg:col-span-1 bg-white p-6 rounded-lg shadow-sm">
                <h2 class="text-xl font-semibold mb-4 text-gray-800">Filters</h2>

                <div class="mb-6">
                    <label for="search" class="block text-sm font-medium text-gray-700 mb-1">Search</label>
                    <div class="relative">
                        <input type="text" id="search" placeholder="Search papers..."
                            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500">
                        <i class="fas fa-search absolute right-3 top-3 text-gray-400"></i>
                    </div>
                </div>

                <div class="mb-6">
                    <h3 class="text-sm font-medium text-gray-700 mb-2">Topics</h3>
                    <div class="space-y-2">
                        <div>
                            <input type="checkbox" id="topic-logparsing" class="hidden topic-checkbox" checked>
                            <label for="topic-logparsing"
                                class="inline-block px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800 cursor-pointer hover:bg-gray-200 transition">
                                Log Parsing
                            </label>
                        </div>
                        <div>
                            <input type="checkbox" id="topic-anomaly" class="hidden topic-checkbox" checked>
                            <label for="topic-anomaly"
                                class="inline-block px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800 cursor-pointer hover:bg-gray-200 transition">
                                Anomaly Detection
                            </label>
                        </div>
                        <div>
                            <input type="checkbox" id="topic-deeplearning" class="hidden topic-checkbox" checked>
                            <label for="topic-deeplearning"
                                class="inline-block px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800 cursor-pointer hover:bg-gray-200 transition">
                                Deep Learning
                            </label>
                        </div>
                        <div>
                            <input type="checkbox" id="topic-nlp" class="hidden topic-checkbox" checked>
                            <label for="topic-nlp"
                                class="inline-block px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800 cursor-pointer hover:bg-gray-200 transition">
                                Natural Language Processing
                            </label>
                        </div>
                    </div>
                </div>

                <div class="mb-6">
                    <h3 class="text-sm font-medium text-gray-700 mb-2">Institutions</h3>
                    <div class="space-y-2">
                        <div>
                            <input type="checkbox" id="institution-uestc" class="hidden topic-checkbox" checked>
                            <label for="institution-uestc"
                                class="inline-block px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800 cursor-pointer hover:bg-gray-200 transition">
                                University of Electronic Science and Technology of China
                            </label>
                        </div>
                    </div>
                </div>

                <div>
                    <h3 class="text-sm font-medium text-gray-700 mb-2">Publication Year</h3>
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm text-gray-600">2020</span>
                        <span class="text-sm text-gray-600">2025</span>
                    </div>
                    <input type="range" min="2020" max="2025" value="2025"
                        class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                </div>
            </div>

            <div class="lg:col-span-3">
                <div
                    class="bg-white p-4 rounded-lg shadow-sm mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center">
                    <div class="flex space-x-2 mb-4 sm:mb-0">
                        <button id="sort-date"
                            class="px-3 py-1 text-sm font-medium rounded-md bg-blue-100 text-blue-800">
                            <i class="fas fa-calendar-alt mr-1"></i> Sort by Date
                        </button>
                        <button id="sort-clicks"
                            class="px-3 py-1 text-sm font-medium rounded-md bg-gray-100 text-gray-800 hover:bg-gray-200">
                            <i class="fas fa-mouse-pointer mr-1"></i> Sort by Popularity
                        </button>
                    </div>
                    <div class="flex border-b border-gray-200">
                        <button class="language-tab active px-4 py-2 text-sm font-medium text-gray-600" data-lang="en">
                            English
                        </button>
                        <button class="language-tab px-4 py-2 text-sm font-medium text-gray-600" data-lang="zh">
                            中文
                        </button>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-sm mb-6 markdown-body">
                    <h1 class="text-2xl font-bold mb-4">Paper Showcase: LogToku Example</h1>
                    <p class="mb-4">This page showcases an example paper. In a full version, this repository would
                        collect and showcase cutting-edge research.</p>

                    <div class="bg-blue-50 p-4 rounded-md border border-blue-200 mt-6">
                        <h3 class="font-medium text-blue-800 mb-2"><i class="fas fa-info-circle mr-2"></i>Note</h3>
                        <p class="text-blue-700">The paper below is loaded dynamically. Click on it to see more details.
                        </p>
                    </div>
                </div>

                <div id="papers-container" class="grid grid-cols-1 md:grid-cols-1 gap-6"> </div>

                <div id="loading" class="text-center py-8">
                    <i class="fas fa-spinner fa-spin text-2xl text-gray-400"></i>
                    <p class="mt-2 text-gray-500">Loading paper...</p>
                </div>

                <div class="flex justify-center mt-8" id="pagination-controls" style="display:none;">
                    <nav class="inline-flex rounded-md shadow-sm">
                        <button
                            class="px-3 py-1 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                            Previous
                        </button>
                        <button
                            class="px-3 py-1 border-t border-b border-gray-300 bg-white text-sm font-medium text-blue-600 hover:bg-gray-50">
                            1
                        </button>
                        <button
                            class="px-3 py-1 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                            Next
                        </button>
                    </nav>
                </div>
            </div>
        </div>
    </div>

    <div id="paper-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6">
                <div class="flex justify-between items-start mb-4">
                    <h3 id="modal-title" class="text-xl font-bold text-gray-800"></h3>
                    <button id="close-modal" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="mb-2">
                    <p id="modal-authors" class="text-sm text-gray-600"></p>
                </div>
                <div class="mb-4">
                    <span id="modal-date"
                        class="inline-block px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full"></span>
                    <span id="modal-institution"
                        class="inline-block px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full ml-2"></span>
                </div>
                <div class="mb-4">
                    <h4 class="font-medium text-gray-700 mb-2">Abstract</h4>
                    <p id="modal-abstract" class="text-gray-600 text-sm"></p>
                </div>
                <div class="flex flex-wrap gap-2 mb-4"> <span id="modal-topics" class="text-sm text-gray-600"></span>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-2"> <a id="modal-pdf" href="#" target="_blank"
                        class="flex items-center justify-center px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition text-sm">
                        <i class="fas fa-file-pdf mr-2 text-red-500"></i> PDF
                    </a>
                    <a id="modal-arxiv" href="#" target="_blank"
                        class="flex items-center justify-center px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition text-sm">
                        <i class="fas fa-external-link-alt mr-2 text-blue-500"></i> arXiv
                    </a>
                    <a id="modal-github" href="#" target="_blank"
                        class="flex items-center justify-center px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition text-sm">
                        <i class="fab fa-github mr-2 text-gray-700"></i> Code
                    </a>
                    <button id="modal-notes"
                        class="flex items-center justify-center px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition text-sm">
                        <i class="fas fa-sticky-note mr-2 text-yellow-500"></i> 笔记/Notes
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const papersData = [ // Renamed to papersData to avoid conflict if fetching externally later
                {
                    id: 1,
                    title_en: "LogToku: A Token-Unified Framework for Log Parsing and Anomaly Detection",
                    title_zh: "LogToku: 一个统一Token的日志解析与异常检测框架 (请在此处输入官方或更准确的中文翻译)",
                    authors: ["Huan Ma", "Liansheng Zhuang", "Haotian Chen", "Shenglin Zhang", "Dingkui Yan", "Zhiliang Wang", "Parker", "Yuan He", "Hui Li"],
                    institution: "University of Electronic Science and Technology of China (and others)",
                    date: "2025-02-01", // Submission date
                    topics: ["Log Parsing", "Anomaly Detection", "Deep Learning", "Natural Language Processing"],
                    abstract_en: "Current log analysis methods often rely on a multi-stage pipeline that includes log parsing, feature extraction, and downstream task modeling (e.g., anomaly detection). However, the discrete nature of these stages and the handcrafted features limit the overall performance. In this paper, we propose LogToku, a novel token-unified framework that jointly learns log parsing and anomaly detection. LogToku leverages a pre-trained language model (PLM) to encode raw log messages into contextualized token representations. A log template generator and an anomaly detector are then built upon these shared token representations. The template generator identifies the static and dynamic parts of logs, effectively performing parsing, while the anomaly detector identifies abnormal log patterns. By unifying token representations across tasks, LogToku encourages the model to learn more robust and generalizable features. We conduct extensive experiments on three public datasets (HDFS, BGL, Spirit). The results show that LogToku significantly outperforms state-of-the-art methods in both log parsing and anomaly detection, demonstrating the effectiveness of our token-unified approach.",
                    abstract_zh: "当前的日志分析方法通常依赖于一个多阶段流水线，包括日志解析、特征提取和下游任务建模（例如异常检测）。然而，这些阶段的离散性和手工制作的特征限制了整体性能。在本文中，我们提出了 LogToku，一个新颖的统一Token框架，它联合学习日志解析和异常检测。LogToku 利用预训练语言模型 (PLM) 将原始日志消息编码为上下文化的Token表示。然后，在这些共享的Token表示之上构建日志模板生成器和异常检测器。模板生成器识别日志的静态和动态部分，有效地执行解析，而异常检测器识别异常的日志模式。通过跨任务统一Token表示，LogToku 鼓励模型学习更鲁棒和可泛化的特征。我们在三个公共数据集 (HDFS, BGL, Spirit) 上进行了广泛的实验。结果表明，LogToku 在日志解析和异常检测方面均显著优于最先进的方法，证明了我们统一Token方法的有效性。(请在此处输入官方或更准确的中文翻译)",
                    pdf_link: "https://arxiv.org/pdf/2502.00290.pdf",
                    arxiv_link: "https://arxiv.org/abs/2502.00290",
                    github_link: "https://github.com/MaHuanAAA/logtoku",
                    clicks: 42, // Example clicks
                    notes_en: "This paper introduces LogToku, a unified framework for log parsing and anomaly detection using PLMs. It shows SOTA results on HDFS, BGL, and Spirit datasets.",
                    notes_zh: "这篇论文介绍了 LogToku，一个使用预训练语言模型的统一日志解析和异常检测框架。它在 HDFS, BGL, 和 Spirit 数据集上展示了当前最佳结果。(请在此处输入官方或更准确的中文笔记)"
                }
            ];

            let currentLanguage = 'en';
            let sortedPapers = [...papersData]; // Initially, directly use papersData as it's a single item or pre-sorted if needed

            function displayPapers() {
                const container = document.getElementById('papers-container');
                const loading = document.getElementById('loading');
                const paginationControls = document.getElementById('pagination-controls');

                loading.classList.add('hidden');
                container.innerHTML = '';

                if (sortedPapers.length === 0) {
                    container.innerHTML = '<p class="text-gray-600">No papers found.</p>';
                    paginationControls.style.display = 'none';
                    return;
                }

                if (sortedPapers.length <= 1) { // Hide pagination if only one or zero papers
                    paginationControls.style.display = 'none';
                } else {
                    paginationControls.style.display = 'flex';
                }


                sortedPapers.forEach(paper => {
                    const paperElement = document.createElement('div');
                    paperElement.className = 'paper-card bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition cursor-pointer';
                    paperElement.innerHTML = `
                        <div class="p-6">
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="font-bold text-lg text-gray-800 mb-1">${paper[`title_${currentLanguage}`]}</h3>
                                <span class="text-xs text-gray-500">${paper.clicks} <i class="fas fa-eye"></i></span>
                            </div>
                            <p class="text-sm text-gray-600 mb-3">${paper.authors.join(', ')}</p>
                            <div class="flex flex-wrap gap-1 mb-4">
                                ${paper.topics.map(topic =>
                        `<span class="px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full">${topic}</span>`
                    ).join('')}
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-xs text-gray-500">${paper.institution} • ${new Date(paper.date).toLocaleDateString()}</span>
                                <button class="text-blue-600 text-sm font-medium hover:text-blue-800 transition">
                                    <i class="fas fa-arrow-right mr-1"></i> ${currentLanguage === 'en' ? 'Details' : '详情'}
                                </button>
                            </div>
                        </div>
                    `;
                    paperElement.addEventListener('click', () => {
                        showPaperModal(paper);
                        paper.clicks += 1; // This updates in memory, will reset on page reload
                        // To persist clicks, you'd need a backend or local storage solution
                        // For this example, we'll update the card view directly if modal is closed and reopened
                        const eyeCountElement = paperElement.querySelector('.fa-eye').parentElement;
                        if (eyeCountElement) {
                            eyeCountElement.innerHTML = `${paper.clicks} <i class="fas fa-eye"></i>`;
                        }
                    });
                    container.appendChild(paperElement);
                });
            }

            function showPaperModal(paper) {
                const modal = document.getElementById('paper-modal');
                document.getElementById('modal-title').textContent = paper[`title_${currentLanguage}`];
                document.getElementById('modal-authors').textContent = paper.authors.join(', ');
                document.getElementById('modal-date').textContent = new Date(paper.date).toLocaleDateString();
                document.getElementById('modal-institution').textContent = paper.institution;
                document.getElementById('modal-abstract').textContent = paper[`abstract_${currentLanguage}`];

                const modalTopicsContainer = document.getElementById('modal-topics');
                modalTopicsContainer.innerHTML = ''; // Clear existing
                paper.topics.forEach(topic => {
                    const topicSpan = document.createElement('span');
                    topicSpan.className = 'inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full'; // Changed style for modal
                    topicSpan.textContent = topic;
                    modalTopicsContainer.appendChild(topicSpan);
                });

                document.getElementById('modal-pdf').href = paper.pdf_link;
                document.getElementById('modal-arxiv').href = paper.arxiv_link;
                document.getElementById('modal-github').href = paper.github_link;

                document.getElementById('modal-notes').onclick = function () {
                    alert(paper[`notes_${currentLanguage}`]);
                };

                modal.classList.remove('hidden');
            }

            document.getElementById('close-modal').addEventListener('click', () => {
                document.getElementById('paper-modal').classList.add('hidden');
            });

            document.getElementById('paper-modal').addEventListener('click', (e) => {
                if (e.target === document.getElementById('paper-modal')) {
                    document.getElementById('paper-modal').classList.add('hidden');
                }
            });

            document.querySelectorAll('.language-tab').forEach(tab => {
                tab.addEventListener('click', function () {
                    document.querySelectorAll('.language-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    currentLanguage = this.dataset.lang;
                    displayPapers(); // Re-render papers for language change
                    // If modal is open, you might want to update its content too, or close it
                    const openModal = document.getElementById('paper-modal');
                    if (!openModal.classList.contains('hidden')) {
                        // Find which paper is open and re-call showPaperModal
                        // For simplicity, this example doesn't track the currently open paper for live language update in modal
                        // A more robust solution would store the current paper object or ID.
                        // For now, we can just close it or the user has to reopen it.
                        // openModal.classList.add('hidden'); // Option: close modal on lang change
                    }
                });
            });

            // Sorting (remains largely the same, but acts on 'papersData')
            // Sort by Date button
            document.getElementById('sort-date').addEventListener('click', function () {
                this.classList.add('bg-blue-100', 'text-blue-800');
                this.classList.remove('bg-gray-100', 'text-gray-800', 'hover:bg-gray-200');
                document.getElementById('sort-clicks').classList.remove('bg-blue-100', 'text-blue-800');
                document.getElementById('sort-clicks').classList.add('bg-gray-100', 'text-gray-800', 'hover:bg-gray-200');

                sortedPapers = [...papersData].sort((a, b) => new Date(b.date) - new Date(a.date));
                displayPapers();
            });

            // Sort by Popularity button
            document.getElementById('sort-clicks').addEventListener('click', function () {
                this.classList.add('bg-blue-100', 'text-blue-800');
                this.classList.remove('bg-gray-100', 'text-gray-800', 'hover:bg-gray-200');
                document.getElementById('sort-date').classList.remove('bg-blue-100', 'text-blue-800');
                document.getElementById('sort-date').classList.add('bg-gray-100', 'text-gray-800', 'hover:bg-gray-200');

                sortedPapers = [...papersData].sort((a, b) => b.clicks - a.clicks);
                displayPapers();
            });

            // Topic/Institution filtering (not fully implemented for this example, just logs)
            document.querySelectorAll('.topic-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', function () {
                    console.log(`Filter changed: ${this.id}, checked: ${this.checked}`);
                    // To implement filtering:
                    // 1. Get all checked topic/institution filters.
                    // 2. Filter `papersData` based on these.
                    // 3. Update `sortedPapers` with the filtered result.
                    // 4. Call `displayPapers()`.
                });
            });

            // Initial display
            // Default sort by date for initial display
            sortedPapers = [...papersData].sort((a, b) => new Date(b.date) - new Date(a.date));
            setTimeout(() => { // Simulate loading
                displayPapers();
            }, 500);
        });
    </script>
</body>

</html>